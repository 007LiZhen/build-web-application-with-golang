# 11.3 Go怎么写测试用例
开发程序其中很重要的一点是测试，我们如何保证代码的质量，如何保证每个函数是可运行，运行结果是正确的，又如何保证写出来的代码性能是好的，我们知道单元测试的重点在于发现程序设计或实现的逻辑错误，使问题及早暴露，便于问题的定位解决，而性能测试的重点在于发现程序设计上的一些问题，让线上的程序能够在高并发的情况下还能保持稳定。本小节将带着这一连串的问题来讲解Go语言中如何来实现单元测试和性能测试。

Go语言中自带有一个轻量级的测试框架`testing`和自带的`go test`命令来实现单元测试和性能测试，`testing`框架和其他语言中的测试框架类似，你可以基于这个框架写针对相应函数的测试用例，也可以基于该框架写相应的压力测试用例，那么接下来让我们一一来看一下怎么写。

## 如何编写测试用例
由于`go test`命令只能在一个相应的目录下执行所有文件，所以我们接下来新建一个项目目录`gotest`,这样我们所有的代码和测试代码都在这个目录下。

接下来我们再改目录下面创建两个文件：gotest.go和gotest_test.go

1. gotest.go:这个文件里面我们是创建了一个包，里面有一个函数实现了除法运算:

		package gotest
		
		import (
			"errors"
		)
		
		func intdiv(a, b float64) (float64, error) {
			if b == 0 {
				return 0, errors.New("除数不能为0")
			}
		
			return a / b, nil
		}

2. gotest_test.go:这是我们的单元测试文件，但是记住下面的这些原则：

	- 文件名必须是`_test.go`结尾的，这样在执行`go test`的时候才会执行到相应的代码
	- 包名必须和被测试文件的包名一致，例如上面的包名是gotest，那么test文件的包名也必须是gotest
	- 你必须import `testing`这个包
	- 所有的测试用例函数必须是`Test`开头
	- 测试用例会按照源代码中写的顺序依次执行
	- 测试函数`TestXxx()`的参数是`testing.T`，我们可以使用该类型来记录错误或者是测试状态
	- 测试格式：`func TestXxx (t *testing.T)`,`Xxx`部分可以为任意的字符串组合，但是首字母不能是小写字母[a-z]，例如`Testintdiv`是错误的函数名。
	- `testing.T`


## 如何编写压力测试

	func BenchmarkXXX(b *testing.B) { ... }

## links
   * [目录](<preface.md>)
   * 上一节: [使用GDB调试](<11.2.md>)
   * 下一节: [小结](<11.4.md>)